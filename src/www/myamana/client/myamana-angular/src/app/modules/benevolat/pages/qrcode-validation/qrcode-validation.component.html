<div class="validation-container">
  <!-- En-tête avec logo et titre -->
  <div class="header" *ngIf="!isLoading">
    <div class="logo">
      <img src="/assets/images/myamana-logo.png" alt="MyAmana Logo" class="logo-img">
    </div>
    <h1 class="title">Validation Carte Repas</h1>
  </div>

  <!-- Indicateur de chargement -->
  <div class="loading-indicator" *ngIf="isLoading">
    <div class="spinner"></div>
    <p>Validation en cours...</p>
  </div>

  <!-- Message de succès -->
  <div class="success-message" *ngIf="isSuccess && !isLoading">
    <div class="success-icon">✅</div>
    <h2>Validation réussie !</h2>
    <p class="success-text">Votre repas a été validé avec succès.</p>

    <div class="beneficiary-info" *ngIf="validationData">
      <h3>Bénéficiaire :</h3>
      <div class="info-grid">
        <div class="info-item">
          <span class="label">Nom :</span>
          <span class="value">{{ validationData.beneficiary.nom }} {{ validationData.beneficiary.prenom }}</span>
        </div>
        <div class="info-item">
          <span class="label">Nombre de repas :</span>
          <span class="value">{{ validationData.nombre_repas }}</span>
        </div>
        <div class="info-item">
          <span class="label">Date :</span>
          <span class="value">{{ validationData.scan_date | date:'medium' }}</span>
        </div>
      </div>
    </div>

    <div class="instructions">
      <h3>Instructions :</h3>
      <p>Cette validation est valable pour aujourd'hui uniquement.</p>
      <p>Merci d'utiliser le système de carte repas MyAmana.</p>
    </div>

    <button class="home-button" (click)="goToHome()">Retour à l'accueil</button>
  </div>

  <!-- Message d'erreur -->
  <div class="error-message" *ngIf="isError && !isLoading">
    <div class="error-icon">❌</div>
    <h2>Erreur de validation</h2>
    <p class="error-text">{{ errorMessage }}</p>

    <div class="error-instructions">
      <h3>Que faire ?</h3>
      <ul>
        <li>Vérifiez que vous avez scanné le bon QR code</li>
        <li>Assurez-vous que la carte n'a pas déjà été utilisée aujourd'hui</li>
        <li>Contactez le responsable si le problème persiste</li>
      </ul>
    </div>

    <button class="home-button" (click)="goToHome()">Retour à l'accueil</button>
  </div>
</div>
